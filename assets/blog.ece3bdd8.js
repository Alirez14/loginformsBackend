import{n as i,h as l}from"./index.1b37060c.js";let c,r;const d=async e=>{const a=e.target.innerText,n=localStorage.getItem("token");n?(await fetch(l+"travel",{method:"delete",body:JSON.stringify({username:localStorage.getItem("username"),Id:a}),headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":n}})).status!==200?alert("Re log In"):location.reload():(alert("please login first "),location.pathname=subPath)},m=async()=>{const e=document.getElementById("inputReviewNum").value,a=document.getElementById("inputReviewDec").value,n=document.getElementById("inputPlace").value,o=document.getElementById("errorMsg");if(parseInt(e)<1||parseInt(e)>5){o.style.display="inline";return}else o.style.display="none";const t=e+" : "+a,s=localStorage.getItem("token");s?!n||!e||!a?alert("place and review must not empty"):(await fetch(l+"travel",{method:"post",body:JSON.stringify({username:localStorage.getItem("username"),place:n,review:t}),headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":s}})).status!==201?alert("Re log In"):location.reload():(alert("please login first "),location.pathname=subPath)},p=async()=>{const e=localStorage.getItem("token");if(e){const a=await fetch(l+"travel",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":e}});if(a.status!==200)alert("Re log In");else{(await a.json()).forEach(t=>{const s=`<tr>
                <th class="idElement">${t.Id}</th>
                <th>${t.username}</th>
                <th class="placeElement" >${t.place}</th>
                <th>${t.review}</th>
                <th>${new Date(t.dateCreated).toLocaleDateString("en-US")}</th>
                </tr>`;document.getElementById("rowFormAddTravel").innerHTML=s+document.getElementById("rowFormAddTravel").innerHTML}),c=document.querySelectorAll(".idElement"),c.forEach(t=>{t.onclick=d}),r=document.querySelectorAll(".placeElement"),r.forEach(t=>{t.onclick=u});const o=document.getElementById("buttonAddTravel");o.onclick=m}}else alert("please login first "),location.pathname=subPath},u=e=>{const a=document.getElementById("googleMaps"),n=e.target.innerText;a.src=`https://maps.google.com/maps?q=vienna,${n}=&z=13&ie=UTF8&iwloc=&output=embed`};i();p();
