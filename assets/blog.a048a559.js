import{n as i,h as s}from"./index.465b43db.js";let c,r;const d=async e=>{const n=e.target.innerText,o=localStorage.getItem("token");o?(await fetch(s+"travel",{method:"delete",body:JSON.stringify({username:localStorage.getItem("username"),Id:n}),headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":o}})).status!==200?alert("Re log In"):location.reload():(alert("please login first "),location.pathname="/")},m=async()=>{const e=document.getElementById("inputReviewNum").value,n=document.getElementById("inputReviewDec").value,o=document.getElementById("inputPlace").value,a=document.getElementById("errorMsg");if(parseInt(e)<1||parseInt(e)>5){a.style.display="inline";return}else a.style.display="none";const t=e+" : "+n,l=localStorage.getItem("token");l?!o||!e||!n?alert("place and review must not empty"):(await fetch(s+"travel",{method:"post",body:JSON.stringify({username:localStorage.getItem("username"),place:o,review:t}),headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":l}})).status!==201?alert("Re log In"):location.reload():(alert("please login first "),location.pathname="/")},p=async()=>{const e=localStorage.getItem("token");if(e){const n=await fetch(s+"travel",{method:"get",headers:{Accept:"application/json","Content-Type":"application/json","x-access-token":e}});if(n.status!==200)alert("Re log In");else{(await n.json()).forEach(t=>{const l=`<tr>
                <th class="idElement">${t.Id}</th>
                <th>${t.username}</th>
                <th class="placeElement" >${t.place}</th>
                <th>${t.review}</th>
                <th>${new Date(t.dateCreated).toLocaleDateString("en-US")}</th>
                </tr>`;document.getElementById("rowFormAddTravel").innerHTML=l+document.getElementById("rowFormAddTravel").innerHTML}),c=document.querySelectorAll(".idElement"),c.forEach(t=>{t.onclick=d}),r=document.querySelectorAll(".placeElement"),r.forEach(t=>{t.onclick=u});const a=document.getElementById("buttonAddTravel");a.onclick=m}}else alert("please login first "),location.pathname="/"},u=e=>{const n=document.getElementById("googleMaps"),o=e.target.innerText;n.src=`https://maps.google.com/maps?q=vienna,${o}=&z=13&ie=UTF8&iwloc=&output=embed`};i();p();
